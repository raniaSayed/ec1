/* http://www.minimit.com/demos/draggable-bootstrap-nav-tabs-with-jquery-ui */
function touchHandler(a){var b=a.originalEvent.changedTouches[0],c=document.createEvent("MouseEvent");c.initMouseEvent({touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}[a.type],!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(c)}function preventPageScroll(a){a.preventDefault()}function initTouchHandler(a){a.on("touchstart touchmove touchend touchcancel",touchHandler),a.on("touchmove",preventPageScroll)}$.fn.draggable_nav_calc=function(a){return this.each(function(b){var c=$(this);if(c.is(":visible"))if("x"===a.axis){var d=1;c.find("> *").each(function(a){d+=$(this).outerWidth(!0)});var e=c.parent().width();d>e?c.css("width",d):c.css("width",e)}else if("y"===a.axis){var f=1;c.find("> *").each(function(a){f+=$(this).outerHeight(!0)});var g=c.parent().width();f>g?c.css("height",f):c.css("height",g)}})},$.fn.draggable_nav_check=function(){return this.each(function(a){var b=$(this),c=b.width(),d=b.parent().width(),e=0;c>d&&(e=-(c-d));var f=b.height(),g=b.parent().height(),h=0;f>g&&(h=-(f-g));var i=parseInt(b[0].style.left);i>0?b.css("left",0):i<e&&b.css("left",e);var j=parseInt(b[0].style.top);j>0?b.css("top",0):j<h&&b.css("top",h)})},$.fn.draggable_nav=function(a){return this.each(function(b){function d(){clearTimeout(c.data("draggable_nav_timeout"));var b=window.setTimeout(function(b){c.draggable_nav_calc(a),c.draggable_nav_check()},0);c.data("draggable_nav_timeout",b)}var c=$(this);window.setTimeout(function(b){c.draggable_nav_calc(a)},100),c.find('[data-toggle="tab"]').on("shown.bs.tab",function(b){c.draggable_nav_calc(a)}),$(window).on("resize",d),$(window).on("scroll",d),c.hasClass("draggable-center")&&c.find('li a[data-toggle="tab"]').on("shown.bs.tab",function(b){var d=$(this).parents(".draggable-container"),e=$(this).parents("li");if("x"===a.axis){var f=-e.position().left+d.outerWidth()/2-e.outerWidth()/2;c.css("left",f)}else if("y"===a.axis){var g=-e.position().top+d.outerWidth()/2-e.outerWidth()/2;c.css("top",g)}c.draggable_nav_check()})})},$(".draggable").draggable_nav({axis:"x"}),$(".draggable").draggable({axis:"x",drag:function(a,b){var c=b.helper,d=c.width(),e=c.parent().width(),f=0;d>e&&(f=-(d-e));var g=c.height(),h=c.parent().height(),i=0;g>h&&(i=g-h),b.position.left>0?b.position.left=0:b.position.left<f&&(b.position.left=f),b.position.top>0?b.position.top=0:b.position.top<i&&(b.position.top=i)}}),initTouchHandler($(".draggable"));