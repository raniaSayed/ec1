!function(a){var b={init:function(b){var c={duration:200,dist:-100,shift:0,padding:0,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null};return b=a.extend(c,b),this.each(function(){function A(){"undefined"!=typeof window.ontouchstart&&(w[0].addEventListener("touchstart",J),w[0].addEventListener("touchmove",K),w[0].addEventListener("touchend",L)),w[0].addEventListener("mousedown",J),w[0].addEventListener("mousemove",K),w[0].addEventListener("mouseup",L),w[0].addEventListener("mouseleave",L),w[0].addEventListener("click",H)}function B(a){return a.targetTouches&&a.targetTouches.length>=1?a.targetTouches[0].clientX:a.clientX}function C(a){return a.targetTouches&&a.targetTouches.length>=1?a.targetTouches[0].clientY:a.clientY}function D(a){return a>=j?a%j:a<0?D(j+a%j):a}function E(h){var k,l,m,n,o,q,r,u=g;if(f="number"==typeof h?h:f,g=Math.floor((f+i/2)/i),m=f-g*i,n=m<0?1:-1,o=-n*m*2/i,l=j>>1,b.fullWidth?r="translateX(0)":(r="translateX("+(w[0].clientWidth-d)/2+"px) ",r+="translateY("+(w[0].clientHeight-e)/2+"px)"),x){var y=g%j,z=v.find(".indicator-item.active");z.index()!==y&&(z.removeClass("active"),v.find(".indicator-item").eq(y).addClass("active"))}for((!b.noWrap||g>=0&&g<j)&&(q=c[D(g)],a(q).hasClass("active")||(w.find(".carousel-item").removeClass("active"),a(q).addClass("active")),q.style[p]=r+" translateX("+-m/2+"px) translateX("+n*b.shift*o*k+"px) translateZ("+b.dist*o+"px)",q.style.zIndex=0,b.fullWidth?tweenedOpacity=1:tweenedOpacity=1-.2*o,q.style.opacity=tweenedOpacity,q.style.display="block"),k=1;k<=l;++k)b.fullWidth?(zTranslation=b.dist,tweenedOpacity=k===l&&m<0?1-o:1):(zTranslation=b.dist*(2*k+o*n),tweenedOpacity=1-.2*(2*k+o*n)),(!b.noWrap||g+k<j)&&(q=c[D(g+k)],q.style[p]=r+" translateX("+(b.shift+(i*k-m)/2)+"px) translateZ("+zTranslation+"px)",q.style.zIndex=-k,q.style.opacity=tweenedOpacity,q.style.display="block"),b.fullWidth?(zTranslation=b.dist,tweenedOpacity=k===l&&m>0?1-o:1):(zTranslation=b.dist*(2*k-o*n),tweenedOpacity=1-.2*(2*k-o*n)),(!b.noWrap||g-k>=0)&&(q=c[D(g-k)],q.style[p]=r+" translateX("+(-b.shift+(-i*k-m)/2)+"px) translateZ("+zTranslation+"px)",q.style.zIndex=-k,q.style.opacity=tweenedOpacity,q.style.display="block");if((!b.noWrap||g>=0&&g<j)&&(q=c[D(g)],q.style[p]=r+" translateX("+-m/2+"px) translateX("+n*b.shift*o+"px) translateZ("+b.dist*o+"px)",q.style.zIndex=0,b.fullWidth?tweenedOpacity=1:tweenedOpacity=1-.2*o,q.style.opacity=tweenedOpacity,q.style.display="block"),u!==g&&"function"==typeof b.onCycleTo){var A=w.find(".carousel-item").eq(D(g));b.onCycleTo.call(this,A,t)}}function F(){var a,b,c,d;a=Date.now(),b=a-r,r=a,c=f-q,q=f,d=1e3*c/(1+b),o=.8*d+.2*o}function G(){var a,c;m&&(a=Date.now()-r,c=m*Math.exp(-a/b.duration),c>2||c<-2?(E(n-c),requestAnimationFrame(G)):E(n))}function H(c){if(t)return c.preventDefault(),c.stopPropagation(),!1;if(!b.fullWidth){var d=a(c.target).closest(".carousel-item").index(),e=g%j-d;0!==e&&(c.preventDefault(),c.stopPropagation()),I(d)}}function I(a){var c=g%j-a;b.noWrap||(c<0?Math.abs(c+j)<Math.abs(c)&&(c+=j):c>0&&Math.abs(c-j)<c&&(c-=j)),c<0?w.trigger("carouselNext",[Math.abs(c)]):c>0&&w.trigger("carouselPrev",[c])}function J(a){a.preventDefault(),h=!0,t=!1,u=!1,k=B(a),l=C(a),o=m=0,q=f,r=Date.now(),clearInterval(s),s=setInterval(F,100)}function K(a){var b,c,d;if(h)if(b=B(a),y=C(a),c=k-b,d=Math.abs(l-y),d<30&&!u)(c>2||c<-2)&&(t=!0,k=b,E(f+c));else{if(t)return a.preventDefault(),a.stopPropagation(),!1;u=!0}if(t)return a.preventDefault(),a.stopPropagation(),!1}function L(a){if(h)return h=!1,clearInterval(s),n=f,(o>10||o<-10)&&(m=.9*o,n=f+m),n=Math.round(n/i)*i,b.noWrap&&(n>=i*(j-1)?n=i*(j-1):n<0&&(n=0)),m=n-f,r=Date.now(),requestAnimationFrame(G),t&&(a.preventDefault(),a.stopPropagation()),!1}var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a('<ul class="indicators"></ul>'),w=a(this),x=w.attr("data-indicators")||b.indicators;if(w.hasClass("initialized"))return a(this).trigger("carouselNext",[1e-6]),!0;if(b.fullWidth){b.dist=0;var z=w.find(".carousel-item img").first();z.length?imageHeight=z.on("load",function(){w.css("height",a(this).height())}):(imageHeight=w.find(".carousel-item").first().height(),w.css("height",imageHeight)),x&&w.find(".carousel-fixed-item").addClass("with-indicators")}w.addClass("initialized"),h=!1,f=n=0,c=[],d=w.find(".carousel-item").first().innerWidth(),e=w.find(".carousel-item").first().innerHeight(),i=2*d+b.padding,w.find(".carousel-item").each(function(b){if(c.push(a(this)[0]),x){var d=a('<li class="indicator-item"></li>');0===b&&d.addClass("active"),d.click(function(b){b.stopPropagation();var c=a(this).index();I(c)}),v.append(d)}}),x&&w.append(v),j=c.length,p="transform",["webkit","Moz","O","ms"].every(function(a){var b=a+"Transform";return"undefined"==typeof document.body.style[b]||(p=b,!1)}),a(window).on("resize.carousel",function(){b.fullWidth?(d=w.find(".carousel-item").first().innerWidth(),e=w.find(".carousel-item").first().innerHeight(),i=2*d+b.padding,f=2*g*d,n=f):E()}),A(),E(f),a(this).on("carouselNext",function(a,b){void 0===b&&(b=1),n=i*Math.round(f/i)+i*b,f!==n&&(m=n-f,r=Date.now(),requestAnimationFrame(G))}),a(this).on("carouselPrev",function(a,b){void 0===b&&(b=1),n=i*Math.round(f/i)-i*b,f!==n&&(m=n-f,r=Date.now(),requestAnimationFrame(G))}),a(this).on("carouselSet",function(a,b){void 0===b&&(b=0),I(b)})})},next:function(b){a(this).trigger("carouselNext",[b])},prev:function(b){a(this).trigger("carouselPrev",[b])},set:function(b){a(this).trigger("carouselSet",[b])}};a.fn.carousel=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery.carousel"):b.init.apply(this,arguments)}}(jQuery);